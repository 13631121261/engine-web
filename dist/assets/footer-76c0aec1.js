import{h as N,a5 as j,q as u,a8 as R,o as t,P as d,Q as n,m,z as e,p as f,V as o,a9 as k,k as h,Y as z,X as $,a7 as E,a3 as G,i as O,Z as g,r as Q,O as W}from"./vue-974988d6.js";import{t as X,j as U,k as A,d as Y,v as Z,h as P,w as T,_ as H,u as J,e as K}from"./index-1515df1a.js";import{h as ee,o as F}from"./router-23ec191f.js";import{D as te,t as ne}from"./useDark-df56ad75.js";const se="/api/index/";function ae(){X(()=>{const w=U(),p=A();if(!w.siteName)return Y({url:se+"index",method:"get"}).then(a=>{Z(a.data.site.siteName),a.data.rules&&ee(a.data.rules),w.dataFill(a.data.site),p.setStatus(a.data.openMemberCenter),a.data.openMemberCenter||p.setLayoutMode("Disable")})},100)()}const oe={class:"userinfo"},le=["src"],re={class:"username"},ie={class:"user-menus"},ue={key:0,class:"user-menu-max-title"},de=["onClick"],ce=N({__name:"aside",setup(w){const p=j(),a=P(),c=A(),_=(v="",l)=>{document.body.clientWidth<992&&c.toggleMenuExpand(!1),v?p.push({name:v}):l&&F(l)};return(v,l)=>{const r=u("Icon"),C=u("el-button"),s=u("el-button-group"),I=u("el-aside"),b=R("blur");return t(),d(I,{class:"ba-user-layouts"},{default:n(()=>[m("div",oe,[m("div",{onClick:l[0]||(l[0]=y=>_("account/profile")),class:"user-avatar-box"},[m("img",{class:"user-avatar",src:e(T)(e(a).avatar?e(a).avatar:"/static/images/avatar.png"),alt:""},null,8,le),f(r,{class:"user-avatar-gender",name:e(a).getGenderIcon().name,size:"14",color:e(a).getGenderIcon().color},null,8,["name","color"])]),m("p",re,o(e(a).nickname),1),f(s,null,{default:n(()=>[k((t(),d(C,{onClick:l[1]||(l[1]=y=>_("account/integral")),class:"userinfo-button-item",title:v.$t("Integral")+" "+e(a).score,size:"default",plain:""},{default:n(()=>[m("span",null,o(v.$t("Integral")+" "+e(a).score),1)]),_:1},8,["title"])),[[b]]),k((t(),d(C,{onClick:l[2]||(l[2]=y=>_("account/balance")),class:"userinfo-button-item",title:v.$t("Balance")+" "+e(a).money,size:"default",plain:""},{default:n(()=>[m("span",null,o(v.$t("Balance")+" "+e(a).money),1)]),_:1},8,["title"])),[[b]])]),_:1})]),m("div",ie,[(t(!0),h($,null,z(e(c).state.viewRoutes,(y,V)=>{var D;return t(),h($,{key:V},[e(c).state.showHeadline?(t(),h("div",ue,o((D=y.meta)==null?void 0:D.title),1)):E("",!0),(t(!0),h($,null,z(y.children,(M,B)=>{var L,x,i;return t(),h("div",{key:B,onClick:q=>_("",M),class:G(["user-menu-item",((L=e(c).state.activeRoute)==null?void 0:L.name)==M.name?"active":""])},[f(r,{name:(x=M.meta)==null?void 0:x.icon,size:"16",color:"var(--el-text-color-secondary)"},null,8,["name"]),m("span",null,o((i=M.meta)==null?void 0:i.title),1)],10,de)}),128))],64)}),128))])]),_:1})}}});const _e=H(ce,[["__scopeId","data-v-723a7442"]]),S=N({__name:"headerDynamicMenus",props:{menus:{default:()=>[]}},setup(w){const p=w;return(a,c)=>{const _=u("el-menu-item"),v=u("el-sub-menu"),l=R("blur");return t(!0),h($,null,z(p.menus,(r,C)=>(t(),h($,{key:C},[e(O)(r.children)?k((t(),d(_,{key:1,onClick:s=>e(F)(r),index:"column-"+r.id},{default:n(()=>[g(o(r.title),1)]),_:2},1032,["onClick","index"])),[[l]]):k((t(),d(v,{key:0,index:`column-${r.id}`},{title:n(()=>[g(o(r.title),1)]),default:n(()=>[(t(!0),h($,null,z(r.children,(s,I)=>k((t(),d(_,{key:I,onClick:b=>e(F)(s),index:"column-"+s.id},{default:n(()=>[g(o(s.title),1)]),_:2},1032,["onClick","index"])),[[l]])),128))]),_:2},1032,["index"])),[[l]])],64))),128)}}}),me={class:"hidden-xs-only"},pe={class:"header-user-box"},fe=["src"],ve=N({__name:"header",setup(w){const p=Q({activeMenu:""}),a=W(),c=P(),_=j(),v=J(),l=U(),r=A();switch(a.name){case"/":p.activeMenu="";break;case"userLogin":p.activeMenu="user";break}return ae(),(C,s)=>{const I=u("Icon"),b=u("el-menu-item"),y=u("el-sub-menu"),V=u("el-menu"),D=u("el-col"),M=u("el-row"),B=u("el-drawer"),L=u("el-header"),x=R("blur");return t(),d(L,{class:"header"},{default:n(()=>[f(M,{justify:"center"},{default:n(()=>[f(D,{class:"header-row",span:16,xs:24},{default:n(()=>[m("div",{class:G([e(c).isLogin()?"hidden-sm-and-down":"","header-logo"]),onClick:s[0]||(s[0]=i=>e(_).push({name:"/"}))},[m("span",me,o(e(l).siteName),1)],2),e(c).isLogin()?(t(),h("div",{key:0,onClick:s[1]||(s[1]=i=>e(r).toggleMenuExpand(!0)),class:"user-menus-expand hidden-md-and-up"},[f(I,{name:"fa fa-indent",color:"var(--el-color-primary)",size:"20"})])):E("",!0),f(V,{"default-active":p.activeMenu,class:"frontend-header-menu",mode:"horizontal",ellipsis:!1},{default:n(()=>[k((t(),d(b,{onClick:s[2]||(s[2]=i=>e(_).push({name:"/"})),index:"index"},{default:n(()=>[g(o(C.$t("Home")),1)]),_:1})),[[x]]),f(S,{menus:e(l).headNav},null,8,["menus"]),e(r).state.open?(t(),h($,{key:0},[e(c).isLogin()?k((t(),d(y,{key:0,index:"user"},{title:n(()=>[m("div",pe,[m("img",{class:"header-user-avatar",src:e(T)(e(c).avatar?e(c).avatar:"/static/images/avatar.png"),alt:""},null,8,fe),g(" "+o(e(c).nickname),1)])]),default:n(()=>[k((t(),d(b,{onClick:s[3]||(s[3]=i=>e(_).push({name:"user"})),index:"user-index"},{default:n(()=>[g(o(C.$t("Member Center")),1)]),_:1})),[[x]]),f(S,{menus:e(r).state.navUserMenus},null,8,["menus"]),k((t(),d(b,{onClick:s[4]||(s[4]=i=>e(c).logout()),index:"user-logout"},{default:n(()=>[g(o(C.$t("Logout login")),1)]),_:1})),[[x]])]),_:1})),[[x]]):k((t(),d(b,{key:1,onClick:s[5]||(s[5]=i=>e(_).push({name:"user"})),index:"user"},{default:n(()=>[g(o(C.$t("Member Center")),1)]),_:1})),[[x]])],64)):E("",!0),k((t(),d(y,{index:"switch-language"},{title:n(()=>[g(o(C.$t("Language")),1)]),default:n(()=>[(t(!0),h($,null,z(e(v).lang.langArray,i=>(t(),d(b,{onClick:q=>e(K)(i.name),key:i.name,index:"switch-language-"+i.value},{default:n(()=>[g(o(i.value),1)]),_:2},1032,["onClick","index"]))),128))]),_:1})),[[x]]),f(b,{index:"theme-switch",class:"theme-switch"},{default:n(()=>[f(te,{onClick:s[6]||(s[6]=i=>e(ne)())})]),_:1})]),_:1},8,["default-active"])]),_:1})]),_:1}),f(B,{class:"aside-drawer","append-to-body":!0,modelValue:e(r).state.menuExpand,"onUpdate:modelValue":s[7]||(s[7]=i=>e(r).state.menuExpand=i),"with-header":!1,direction:"ltr",size:"70%"},{default:n(()=>[f(_e)]),_:1},8,["modelValue"])]),_:1})}}});const ye=H(ve,[["__scopeId","data-v-edd99c05"]]),ge={href:"http://beian.miit.gov.cn/"},ke=N({__name:"footer",setup(w){const p=U();return(a,c)=>{const _=u("el-footer");return t(),d(_,{class:"footer"},{default:n(()=>[m("div",null,[g(" Copyright @ 2020~2022 "+o(e(p).siteName)+" "+o(a.$t("Copyright"))+" ",1),m("a",ge,o(e(p).recordNumber),1)])]),_:1})}}});const $e=H(ke,[["__scopeId","data-v-5dadaf49"]]);export{_e as A,$e as F,ye as H};
