import{C as K,d as W,b as ee,T as te}from"./index-11ae6512.js";import{c as P,Z as w,t as ae,_ as z,a as le,$ as oe}from"./index-1515df1a.js";import{h as N,ar as ne,r as se,w as q,j as H,q as p,a8 as re,o as n,k as g,p as r,Q as o,a9 as y,at as ce,Y as T,as as C,af as de,z as t,ag as ue,m,P as c,a7 as _,X as $,V as k,a3 as ie,ai as pe,aw as _e,F as be,Z as me}from"./vue-974988d6.js";import"./index-7182f49c.js";const fe={class:"table-header-operate-text"},he={class:"table-header-operate-text"},ye={class:"mlr-12"},ve={class:"table-header-operate-text"},ke={class:"table-header-operate-text"},ge={class:"table-header-operate-text"},xe={class:"table-header-operate-text"},we={class:"table-search"},Ce={key:1,class:"table-search-button-group"},Se=N({__name:"index_1",props:{buttons:{default:()=>["refresh","add","edit","delete"]},quickSearchPlaceholder:{default:""}},setup(D){const u=D,{t:e}=P(),d=ne("baTable"),i=se({quickSearch:"",alarm_object:"",alarm_type:""}),I=s=>{console.log(s),d.onTableHeaderAction("alarm_object",{keyword:s})},j=s=>{console.log(s),d.onTableHeaderAction("alarm_type",{keyword:s})};q("");const V=[{value:"device",label:e("alarm_device")},{value:"person",label:e("alarm_person")}],O=[{value1:"sos_all",label:e("sos_all")},{value1:"sos_key",label:e("sos_key")},{value1:"sos_run",label:e("sos_run")},{value1:"sos_bt",label:e("sos_bt")},{value1:"sos_offline",label:e("sos_offline")},{value1:"sos_online",label:e("sos_online")},{value1:"fence_on_sos",label:e("fence_on_sos")},{value1:"fence_out_sos",label:e("fence_out_sos")}],R=H(()=>{let s=[];for(let a of d.table.column)a.type==="selection"||a.render==="buttons"||a.enableColumnDisplayControl===!1||s.push(a);return s}),S=H(()=>d.table.selection.length>0),x=(s,a={})=>{d.onTableHeaderAction(s,a)},U=()=>{d.onTableHeaderAction("quick-search",{keyword:i.quickSearch})},F=(s,a)=>{d.onTableHeaderAction("change-show-column",{field:a,value:s})};return(s,a)=>{const f=p("Icon"),b=p("el-button"),h=p("el-tooltip"),B=p("el-option"),E=p("el-select"),Q=p("el-popconfirm"),Z=p("el-upload"),G=p("el-input"),L=p("el-checkbox"),M=p("el-dropdown-item"),X=p("el-dropdown-menu"),Y=p("el-dropdown"),v=re("blur");return n(),g($,null,[r(ue,{name:"el-zoom-in-bottom",mode:"out-in"},{default:o(()=>[y(r(K,null,ce({_:2},[T(s.$slots,(l,A)=>({name:A,fn:o(()=>[C(s.$slots,A,{},void 0,!0)])}))]),1536),[[de,u.buttons.includes("comSearch")&&t(d).table.showComSearch]])]),_:3}),m("div",pe(s.$attrs,{class:"table-header ba-scroll-style"}),[C(s.$slots,"refreshPrepend",{},void 0,!0),u.buttons.includes("refresh")?(n(),c(h,{key:0,content:t(e)("Refresh"),placement:"top"},{default:o(()=>[y((n(),c(b,{onClick:a[0]||(a[0]=l=>x("refresh",{loading:!0})),color:"#40485b",class:"table-header-operate",type:"info"},{default:o(()=>[r(f,{name:"fa fa-refresh"})]),_:1})),[[v]])]),_:1},8,["content"])):_("",!0),C(s.$slots,"refreshAppend",{},void 0,!0),r(E,{modelValue:i.alarm_object,"onUpdate:modelValue":a[1]||(a[1]=l=>i.alarm_object=l),class:"m-2",placeholder:t(e)("alarm_object"),style:{"margin-left":"10px"},onChange:I},{default:o(()=>[(n(),g($,null,T(V,l=>r(B,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"]),r(E,{modelValue:i.alarm_type,"onUpdate:modelValue":a[2]||(a[2]=l=>i.alarm_type=l),class:"m-2",placeholder:t(e)("Alarm_Type"),style:{"margin-left":"10px"},onChange:j},{default:o(()=>[(n(),g($,null,T(O,l=>r(B,{key:l.value1,label:l.label,value:l.value1},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"]),u.buttons.includes("add")&&t(w)("add")?(n(),c(h,{key:1,content:t(e)("Add"),placement:"top"},{default:o(()=>[y((n(),c(b,{onClick:a[3]||(a[3]=l=>x("add")),class:"table-header-operate",type:"primary"},{default:o(()=>[r(f,{name:"fa fa-plus"}),m("span",fe,k(t(e)("Add")),1)]),_:1})),[[v]])]),_:1},8,["content"])):_("",!0),u.buttons.includes("edit")&&t(w)("edit")?(n(),c(h,{key:2,content:t(e)("Edit selected row"),placement:"top"},{default:o(()=>[y((n(),c(b,{onClick:a[4]||(a[4]=l=>x("edit")),disabled:!S.value,class:"table-header-operate",type:"primary"},{default:o(()=>[r(f,{name:"fa fa-pencil"}),m("span",he,k(t(e)("Edit")),1)]),_:1},8,["disabled"])),[[v]])]),_:1},8,["content"])):_("",!0),u.buttons.includes("delete")&&t(w)("del")?(n(),c(Q,{key:3,onConfirm:a[5]||(a[5]=l=>x("delete")),"confirm-button-text":t(e)("Delete"),"cancel-button-text":t(e)("Cancel"),confirmButtonType:"danger",title:t(e)("Are you sure to delete the selected record?"),disabled:!S.value},{reference:o(()=>[m("div",ye,[r(h,{content:t(e)("Delete selected row"),placement:"top"},{default:o(()=>[y((n(),c(b,{disabled:!S.value,class:"table-header-operate",type:"danger"},{default:o(()=>[r(f,{name:"fa fa-trash"}),m("span",ve,k(t(e)("Delete")),1)]),_:1},8,["disabled"])),[[v]])]),_:1},8,["content"])])]),_:1},8,["confirm-button-text","cancel-button-text","title","disabled"])):_("",!0),u.buttons.includes("import")&&t(w)("import")?(n(),c(h,{key:4,content:t(e)("Import from Excel"),placement:"top"},{default:o(()=>[r(Z,{class:"table-header-operate",style:{"margin-top":"10px"},accept:"excel","show-file-list":"ture",action:"./userApi/uploadBeacon",multiple:"",name:"data.xlsx","auto-upload":"ture"},{default:o(()=>[y((n(),c(b,{class:"table-header-operate",type:"primary"},{default:o(()=>[r(f,{name:"fa fa-pencil"}),m("span",ke,k(t(e)("import")),1)]),_:1})),[[v]])]),_:1})]),_:1},8,["content"])):_("",!0),u.buttons.includes("export")&&t(w)("export")?(n(),c(h,{key:5,content:t(e)("export_tip"),placement:"top"},{default:o(()=>[y((n(),c(b,{onClick:a[6]||(a[6]=l=>x("export")),disabled:!S.value,class:"table-header-operate",type:"primary"},{default:o(()=>[r(f,{name:"fa fa-pencil"}),m("span",ge,k(t(e)("export")),1)]),_:1},8,["disabled"])),[[v]])]),_:1},8,["content"])):_("",!0),u.buttons.includes("unfold")?(n(),c(h,{key:6,content:(t(d).table.expandAll?t(e)("Shrink"):t(e)("Open"))+t(e)("All submenus"),placement:"top"},{default:o(()=>[y((n(),c(b,{onClick:a[7]||(a[7]=l=>t(d).onTableHeaderAction("unfold",{unfold:!t(d).table.expandAll})),class:"table-header-operate",type:t(d).table.expandAll?"danger":"warning"},{default:o(()=>[m("span",xe,k(t(d).table.expandAll?t(e)("Shrink all"):t(e)("Expand all")),1)]),_:1},8,["type"])),[[v]])]),_:1},8,["content"])):_("",!0),C(s.$slots,"default",{},void 0,!0),m("div",we,[C(s.$slots,"quickSearchPrepend",{},void 0,!0),u.buttons.includes("quickSearch")?(n(),c(G,{key:0,modelValue:i.quickSearch,"onUpdate:modelValue":a[8]||(a[8]=l=>i.quickSearch=l),class:"xs-hidden quick-search",onInput:a[9]||(a[9]=l=>t(ae)(U,500)()),placeholder:s.quickSearchPlaceholder?s.quickSearchPlaceholder:t(e)("Search")},null,8,["modelValue","placeholder"])):_("",!0),u.buttons.includes("columnDisplay")||u.buttons.includes("comSearch")?(n(),g("div",Ce,[u.buttons.includes("columnDisplay")?(n(),c(Y,{key:0,"max-height":380,"hide-on-click":!1},{dropdown:o(()=>[r(X,null,{default:o(()=>[(n(!0),g($,null,T(R.value,(l,A)=>(n(),c(M,{key:A},{default:o(()=>[l.prop?(n(),c(L,{key:0,onChange:J=>F(J,l.prop),checked:!l.show,"model-value":l.show,size:"small",label:l.label},null,8,["onChange","checked","model-value","label"])):_("",!0)]),_:2},1024))),128))]),_:1})]),default:o(()=>[r(b,{class:ie(["table-search-button-item",u.buttons.includes("comSearch")?"right-border":""]),color:"#dcdfe6",plain:""},{default:o(()=>[r(f,{size:"14",name:"el-icon-Grid"})]),_:1},8,["class"])]),_:1})):_("",!0),u.buttons.includes("comSearch")?(n(),c(h,{key:1,disabled:t(d).table.showComSearch,content:t(e)("Expand generic search"),placement:"top"},{default:o(()=>[r(b,{class:"table-search-button-item",onClick:a[10]||(a[10]=l=>t(d).table.showComSearch=!t(d).table.showComSearch),color:"#dcdfe6",plain:""},{default:o(()=>[r(f,{size:"14",name:"el-icon-Search"})]),_:1})]),_:1},8,["disabled","content"])):_("",!0)])):_("",!0)])],16)],64)}}});const Ae=z(Se,[["__scopeId","data-v-0fd49f06"]]),Te={class:"default-main ba-table-box"},$e=N({name:"auth/group",__name:"index",setup(D){q();const u=q(),{t:e}=P();le();let d=W(["edit","delete"]);const i=new ee(new oe("/userApi/Alarm/"),{dblClickNotEditColumn:["all"],column:[{type:"selection",align:"center"},{label:e("sn_idcard"),prop:"sn",align:"center",render:"tag"},{label:e("device_person_name"),prop:"name",align:"center"},{label:e("alarm_object"),prop:"alarm_object",render:"tag",custom:{person:"primary",device:"success"},replaceValue:{bracelet:e("alarm_bracelet"),beacon:e("alarm_beacon"),locator:e("alarm_locator"),gateway:e("alarm_gateway")}},{label:e("Alarm_Type"),prop:"alarm_type",render:"tag",custom:{sos_key:"danger",sos_run:"danger",sos_bt:e("sos_bt"),sos_offline:"info",sos_online:"success",fence_on_sos:"warning",fence_out_sos:"warning"},replaceValue:{sos_key:e("sos_key"),sos_run:e("sos_run"),sos_bt:e("sos_bt"),sos_offline:e("sos_offline"),sos_online:e("sos_online"),fence_on_sos:e("fence_on_sos"),fence_out_sos:e("fence_out_sos")}},{label:e("last time"),render:"datetime",prop:"last_time",align:"center"},{label:e("create_time"),render:"datetime",prop:"create_time",align:"center"},{label:e("Operate"),align:"center",width:"80",render:"buttons",buttons:d,fixed:"right"}]},{defaultItems:{status:"1"}});return _e("baTable",i),be(()=>{i.table.ref=u.value,i.mount(),i.getIndex(),console.log("sss="+i.table.ref),console.log(i.table.ref)}),(I,j)=>{const V=p("bind_pop");return n(),g("div",Te,[r(Ae,{buttons:["refresh","add","edit","delete","quickSearch","columnDisplay"],"quick-search-placeholder":t(e)("Quick search placeholder",{fields:t(e)("device_code_name")+"/"+t(e)("person_name")+"/"+t(e)("idcard")+"/"+t(e)("code_sn")})},null,8,["quick-search-placeholder"]),r(te,{ref_key:"tableRef",ref:u,style:{width:"20px"}},null,512),me(" ` "),r(V)])}}});const je=z($e,[["__scopeId","data-v-7c9c8dc1"]]);export{je as default};
