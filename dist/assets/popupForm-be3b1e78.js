import{h as D,w as b,ar as N,r as P,F as W,q as s,a8 as d,o as m,P as p,Q as t,a9 as v,k as $,Z as c,V as f,z as e,m as g,l as y,p as i,a3 as q,$ as T,a7 as U}from"./vue-974988d6.js";import{a as E,c as K,_ as R}from"./index-1515df1a.js";import{b as k}from"./validate-8bf15b2e.js";import{F as V}from"./index-a773531e.js";import"./index-11ae6512.js";import"./index-7182f49c.js";const L={class:"title"},M=D({__name:"popupForm",setup(Q){E();const u=b(),o=N("baTable");b(""),b("");const{t:a}=K(),w=P({version:[k({name:"required",title:a("version_name")})],remake:[k({name:"required",title:a("notes")})]}),h=(n,l)=>{n.length>0&&(o.form.items.project_key=n,console.log("上传成功"+n))};return W(()=>{console.log("666666调用"),o.form.items.version="444",console.log(o.form)}),(n,l)=>{const _=s("el-button"),x=s("el-upload"),C=s("el-form-item"),F=s("el-form"),I=s("el-scrollbar"),S=s("el-dialog"),j=d("drag"),z=d("zoom"),A=d("loading"),B=d("blur");return m(),p(S,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":["Add","Edit"].includes(e(o).form.operate),onClose:e(o).toggleForm,"destroy-on-close":!0},{header:t(()=>[v((m(),$("div",L,[c(f(e(o).form.operate?e(a)(e(o).form.operate):""),1)])),[[j,[".ba-operate-dialog",".el-dialog__header"]],[z,".ba-operate-dialog"]])]),footer:t(()=>[g("div",{style:y("width: calc(100% - "+e(o).form.labelWidth/1.8+"px)")},[i(_,{onClick:l[4]||(l[4]=r=>e(o).toggleForm(""))},{default:t(()=>[c(f(e(a)("Cancel")),1)]),_:1}),v((m(),p(_,{loading:e(o).form.submitLoading,onClick:l[5]||(l[5]=r=>e(o).onSubmit(u.value)),type:"primary"},{default:t(()=>[c(f(e(o).form.operateIds&&e(o).form.operateIds.length>1?e(a)("Save and edit next item"):e(a)("Save")),1)]),_:1},8,["loading"])),[[B]])],4)]),default:t(()=>[v((m(),p(I,{class:"ba-table-form-scrollbar"},{default:t(()=>[g("div",{class:q(["ba-operate-form","ba-"+e(o).form.operate+"-form"]),style:y("width: calc(100% - "+e(o).form.labelWidth/2+"px)")},[e(o).form.loading?U("",!0):(m(),p(F,{key:0,ref_key:"formRef",ref:u,onKeyup:l[3]||(l[3]=T(r=>e(o).onSubmit(u.value),["enter"])),model:e(o).form.items,"label-position":"right","label-width":e(o).form.labelWidth+"px",rules:w},{default:t(()=>[i(V,{"input-attr":{clearable:!0},label:e(a)("version_name"),modelValue:e(o).form.items.version,"onUpdate:modelValue":l[0]||(l[0]=r=>e(o).form.items.version=r),type:"string",prop:"version",placeholder:e(a)("Please input field",{field:e(a)("version_name")})},null,8,["label","modelValue","placeholder"]),i(V,{"input-attr":{clearable:!0},label:e(a)("notes"),modelValue:e(o).form.items.remake,"onUpdate:modelValue":l[1]||(l[1]=r=>e(o).form.items.remake=r),type:"string",prop:"remake",placeholder:e(a)("Please input field",{field:e(a)("notes")})},null,8,["label","modelValue","placeholder"]),i(C,{label:e(a)("firmware"),prop:"map_key"},{default:t(()=>[i(x,{modelValue:e(o).form.items.project_key,"onUpdate:modelValue":l[2]||(l[2]=r=>e(o).form.items.project_key=r),class:"upload-demo",action:"/userApi/WifiFirmware/upload",name:"wifi_firmware",limit:1,accept:".uImage","on-success":h,data:e(o).form.items.project_key},{default:t(()=>[i(_,{type:"primary"},{default:t(()=>[c(f(e(a)("select")),1)]),_:1})]),_:1},8,["modelValue","data"])]),_:1},8,["label"])]),_:1},8,["model","label-width","rules"]))],6)]),_:1})),[[A,e(o).form.loading]])]),_:1},8,["model-value","onClose"])}}});const Y=R(M,[["__scopeId","data-v-c7869fd8"]]);export{Y as default};
