import{h as D,w as b,ar as N,r as P,F as $,q as s,a8 as d,o as m,P as p,Q as a,a9 as v,k as q,Z as c,V as u,z as e,m as g,l as y,p as i,a3 as T,$ as U,a7 as W}from"./vue-974988d6.js";import{a as E,c as K,_ as R}from"./index-1515df1a.js";import{b as k}from"./validate-8bf15b2e.js";import{F as V}from"./index-a773531e.js";import"./index-11ae6512.js";import"./index-7182f49c.js";const L={class:"title"},M=D({__name:"popupForm",setup(Q){E();const f=b(),o=N("baTable");b(""),b("");const{t:l}=K(),h=P({version:[k({name:"required",title:l("version_name")})],remake:[k({name:"required",title:l("notes")})]}),w=(n,t)=>{n.length>0&&(o.form.items.project_key=n,console.log("上传成功"+n))};return $(()=>{console.log("666666调用"),o.form.items.version="444",console.log(o.form)}),(n,t)=>{const _=s("el-button"),x=s("el-upload"),C=s("el-form-item"),F=s("el-form"),S=s("el-scrollbar"),z=s("el-dialog"),I=d("drag"),j=d("zoom"),B=d("loading"),A=d("blur");return m(),p(z,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":["Add","Edit"].includes(e(o).form.operate),onClose:e(o).toggleForm,"destroy-on-close":!0},{header:a(()=>[v((m(),q("div",L,[c(u(e(o).form.operate?e(l)(e(o).form.operate):""),1)])),[[I,[".ba-operate-dialog",".el-dialog__header"]],[j,".ba-operate-dialog"]])]),footer:a(()=>[g("div",{style:y("width: calc(100% - "+e(o).form.labelWidth/1.8+"px)")},[i(_,{onClick:t[4]||(t[4]=r=>e(o).toggleForm(""))},{default:a(()=>[c(u(e(l)("Cancel")),1)]),_:1}),v((m(),p(_,{loading:e(o).form.submitLoading,onClick:t[5]||(t[5]=r=>e(o).onSubmit(f.value)),type:"primary"},{default:a(()=>[c(u(e(o).form.operateIds&&e(o).form.operateIds.length>1?e(l)("Save and edit next item"):e(l)("Save")),1)]),_:1},8,["loading"])),[[A]])],4)]),default:a(()=>[v((m(),p(S,{class:"ba-table-form-scrollbar"},{default:a(()=>[g("div",{class:T(["ba-operate-form","ba-"+e(o).form.operate+"-form"]),style:y("width: calc(100% - "+e(o).form.labelWidth/2+"px)")},[e(o).form.loading?W("",!0):(m(),p(F,{key:0,ref_key:"formRef",ref:f,onKeyup:t[3]||(t[3]=U(r=>e(o).onSubmit(f.value),["enter"])),model:e(o).form.items,"label-position":"right","label-width":e(o).form.labelWidth+"px",rules:h},{default:a(()=>[i(V,{"input-attr":{clearable:!0},label:e(l)("version_name"),modelValue:e(o).form.items.version,"onUpdate:modelValue":t[0]||(t[0]=r=>e(o).form.items.version=r),type:"string",prop:"version",placeholder:e(l)("Please input field",{field:e(l)("version_name")})},null,8,["label","modelValue","placeholder"]),i(V,{"input-attr":{clearable:!0},label:e(l)("notes"),modelValue:e(o).form.items.remake,"onUpdate:modelValue":t[1]||(t[1]=r=>e(o).form.items.remake=r),type:"string",prop:"remake",placeholder:e(l)("Please input field",{field:e(l)("notes")})},null,8,["label","modelValue","placeholder"]),i(C,{label:e(l)("firmware"),prop:"map_key"},{default:a(()=>[i(x,{modelValue:e(o).form.items.project_key,"onUpdate:modelValue":t[2]||(t[2]=r=>e(o).form.items.project_key=r),class:"upload-demo",action:"/userApi/BleFirmware/upload",name:"ble_firmware",limit:1,accept:".zip","on-success":w,data:e(o).form.items.project_key},{default:a(()=>[i(_,{type:"primary"},{default:a(()=>[c(u(e(l)("select")),1)]),_:1})]),_:1},8,["modelValue","data"])]),_:1},8,["label"])]),_:1},8,["model","label-width","rules"]))],6)]),_:1})),[[B,e(o).form.loading]])]),_:1},8,["model-value","onClose"])}}});const Y=R(M,[["__scopeId","data-v-37518780"]]);export{Y as default};
