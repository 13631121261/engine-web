import{d as _,b as g,a as k,T as h}from"./index-11ae6512.js";import{c as y,a as x,$ as B,_ as T}from"./index-1515df1a.js";import{u as w,r as v}from"./index-24a0fd9a.js";import R from"./popupForm-1923817f.js";import I from"./bind_pop-4e2c11bf.js";import C from"./bind_mac-6805e46d.js";import{h as F,w as c,K as r,aB as N,aw as q,F as A,o as E,k as D,p as o,z as i,Z as O}from"./vue-974988d6.js";import"./index-7182f49c.js";import"./validate-8bf15b2e.js";import"./index-a773531e.js";const V={class:"default-main ba-table-box"},$=F({name:"auth/group",__name:"index",setup(z){const d=c(),s=c(),{t:a}=y();x();let l=_(["edit","delete"]),f=[{render:"tipButton",name:"info",title:"bind",type:"success",icon:"fa fa-link",class:"table-row-info",disabledTip:!1,click:(e,t)=>{},display:(e,t)=>!0,disabled:(e,t)=>!1,attr:{}}],p=[{render:"tipButton",name:"info",title:"return",type:"success",icon:"fa fa-arrow-left",class:"table-row-info",disabledTip:!1,click:(e,t)=>{},display:(e,t)=>!0,disabled:(e,t)=>!1,attr:{color:"#026faa"}}],u=[{render:"tipButton",name:"info",title:"unbind",type:"success",icon:"fa fa-unlink",class:"table-row-info",disabledTip:!1,click:(e,t)=>{},display:(e,t)=>!0,disabled:(e,t)=>!1,attr:{color:"#626aef"}}];l=f.concat(u).concat(p).concat(l),l[0].click=(e,t)=>{console.log("点击了按钮"+e),n.toggleForm("bind",e.id),n.form.items=e},l[1].click=(e,t)=>{console.log("点击了按钮"+e),n.toggleForm("unbind",e.id),n.form.items=e,m(e.sn),e.person_name="",e.isbind=0},l[2].click=(e,t)=>{if(e.person_name!=null&&e.person_name!=""&&e.bind_mac!=null&&e.bind_mac!=""){r({message:a("unbind_tip"),type:"error"});return}else b(e.sn),n.getIndex()};const n=new g(new B("/userApi/Devicep/"),{dblClickNotEditColumn:["all"],column:[{type:"selection",align:"center"},{label:a("code_sn1"),prop:"sn",align:"center",render:"tag"},{label:a("device_code_name"),prop:"name",align:"center"},{label:a("select_area"),prop:"area_name",align:"center",render:"tag"},{label:a("fence_name"),prop:"fence_name",width:"150",align:"center",render:"tag"},{label:a("Consuming_who"),prop:"person_name",align:"center"},{label:a("bind_tag"),prop:"isbind",align:"center",render:"customRender",customRender:N(C)},{label:a("create_time"),render:"datetime",prop:"createtime",align:"center"},{label:a("Operate"),align:"center",width:"150",render:"buttons",buttons:l,fixed:"right"}]},{defaultItems:{status:"1"}});q("baTable",n),A(()=>{n.table.ref=s.value,n.mount(),n.getIndex(),console.log("sss="+n.table.ref),console.log(n.table.ref)});function m(e){w(e).then(t=>{t.code==1&&r({message:t.msg,type:"success"})})}function b(e){v(e).then(t=>{t.code==1&&r({message:t.msg,type:"success"})})}return(e,t)=>(E(),D("div",V,[o(k,{buttons:["refresh","add","edit","delete","quickSearch","columnDisplay","import","export"],"quick-search-placeholder":i(a)("Quick search placeholder",{fields:i(a)("device_code_name")+"/"+i(a)("Consuming_who")})},null,8,["quick-search-placeholder"]),o(h,{ref_key:"tableRef",ref:s},null,512),o(R,{ref_key:"formRef",ref:d},null,512),O(" ` "),o(I)]))}});const L=T($,[["__scopeId","data-v-05dd4f16"]]);export{L as default};
