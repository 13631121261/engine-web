import{h as S,w as q,ar as U,r as z,q as d,a8 as p,o as n,P as u,Q as i,a9 as c,k as D,Z as g,V as _,z as e,m as V,l as x,p as m,a3 as N,$ as B,a7 as K}from"./vue-974988d6.js";import{a as $,c as A,_ as E}from"./index-1515df1a.js";import{b as r}from"./validate-8bf15b2e.js";import{F as s}from"./index-a773531e.js";import"./index-11ae6512.js";import"./index-7182f49c.js";const T={class:"title"},W=S({__name:"popupForm",setup(R){const k=$(),f=q(),l=U("baTable"),{t}=A(),h=z({name:[r({name:"required",title:t("btag.list.name")}),r({name:"varName"})],major:[r({name:"required",title:t("btag.list.Major")}),r({name:"id"})],minor:[r({name:"required",title:t("btag.list.Minor")}),r({name:"id"})],y:[r({name:"axis",title:t("Please enter the correct field",{field:t("btag.list.x")})})],x:[r({name:"axis",title:t("Please enter the correct field",{field:t("btag.list.y")})})],map_key:[r({name:"required",message:t("Please select field",{field:t("btag.list.map_name")})})],config_key:[r({name:"required",message:t("Please select field",{field:t("btag.list.config_name")})})]});function y(){var b=["Edit"].includes(l.form.operate);return console.log(b),b}return(b,a)=>{const C=d("el-form"),j=d("el-scrollbar"),v=d("el-button"),w=d("el-dialog"),M=p("drag"),P=p("zoom"),F=p("loading"),I=p("blur");return n(),u(w,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":["Add","Edit"].includes(e(l).form.operate),onClose:e(l).toggleForm,"destroy-on-close":!0},{header:i(()=>[c((n(),D("div",T,[g(_(e(l).form.operate?e(t)(e(l).form.operate):""),1)])),[[M,[".ba-operate-dialog",".el-dialog__header"]],[P,".ba-operate-dialog"]])]),footer:i(()=>[V("div",{style:x("width: calc(100% - "+e(l).form.labelWidth/1.8+"px)")},[m(v,{onClick:a[7]||(a[7]=o=>e(l).toggleForm(""))},{default:i(()=>[g(_(e(t)("Cancel")),1)]),_:1}),c((n(),u(v,{loading:e(l).form.submitLoading,onClick:a[8]||(a[8]=o=>e(l).onSubmit(f.value)),type:"primary"},{default:i(()=>[g(_(e(l).form.operateIds&&e(l).form.operateIds.length>1?e(t)("Save and edit next item"):e(t)("Save")),1)]),_:1},8,["loading"])),[[I]])],4)]),default:i(()=>[c((n(),u(j,{class:"ba-table-form-scrollbar"},{default:i(()=>[V("div",{class:N(["ba-operate-form","ba-"+e(l).form.operate+"-form"]),style:x("width: calc(100% - "+e(l).form.labelWidth/2+"px)")},[e(l).form.loading?K("",!0):(n(),u(C,{key:0,ref_key:"formRef",ref:f,onKeyup:a[6]||(a[6]=B(o=>e(l).onSubmit(f.value),["enter"])),model:e(l).form.items,"label-position":"right","label-width":e(l).form.labelWidth+"px",rules:h},{default:i(()=>[m(s,{"input-attr":{clearable:!0},label:e(t)("btag.list.name"),modelValue:e(l).form.items.name,"onUpdate:modelValue":a[0]||(a[0]=o=>e(l).form.items.name=o),type:"string",prop:"name",placeholder:e(t)("Please input field",{field:e(t)("btag.list.name")})},null,8,["label","modelValue","placeholder"]),m(s,{label:e(t)("btag.list.Major"),modelValue:e(l).form.items.major,"onUpdate:modelValue":a[1]||(a[1]=o=>e(l).form.items.major=o),type:"string",prop:"major",placeholder:e(t)("btag.list.Major"),"input-attr":{clearable:!0,disabled:y()}},null,8,["label","modelValue","placeholder","input-attr"]),m(s,{label:e(t)("btag.list.Minor"),modelValue:e(l).form.items.minor,"onUpdate:modelValue":a[2]||(a[2]=o=>e(l).form.items.minor=o),type:"string",prop:"minor",placeholder:e(t)("btag.list.Minor"),"input-attr":{clearable:!0,disabled:y()}},null,8,["label","modelValue","placeholder","input-attr"]),m(s,{label:e(t)("btag.list.map_name"),modelValue:e(l).form.items.map_key,"onUpdate:modelValue":a[3]||(a[3]=o=>e(l).form.items.map_key=o),prop:"map_key",type:"remoteSelect","input-attr":{pk:"map_key",multiple:!1,params:{project_Key:e(k).getProject_Key()},field:"name","remote-url":"/userApi/map/index1",placeholder:e(t)("Click select")}},null,8,["label","modelValue","input-attr"]),m(s,{label:e(t)("btag.list.x"),modelValue:e(l).form.items.x,"onUpdate:modelValue":a[4]||(a[4]=o=>e(l).form.items.x=o),modelModifiers:{number:!0},type:"number",prop:"x",placeholder:e(t)("btag.list.x_tip")},null,8,["label","modelValue","placeholder"]),m(s,{label:e(t)("btag.list.y"),modelValue:e(l).form.items.y,"onUpdate:modelValue":a[5]||(a[5]=o=>e(l).form.items.y=o),modelModifiers:{number:!0},type:"number",prop:"y",placeholder:e(t)("btag.list.y_tip")},null,8,["label","modelValue","placeholder"])]),_:1},8,["model","label-width","rules"]))],6)]),_:1})),[[F,e(l).form.loading]])]),_:1},8,["model-value","onClose"])}}});const O=E(W,[["__scopeId","data-v-c2b42ae6"]]);export{O as default};
