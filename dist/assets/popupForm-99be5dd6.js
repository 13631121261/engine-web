import{h as A,w as h,ar as B,r as $,q as s,a8 as m,o as n,P as i,Q as r,a9 as c,k as T,Z as b,V as f,z as e,m as k,l as x,p as _,a3 as U,$ as W,a7 as C}from"./vue-974988d6.js";import{a as E,c as K,_ as P}from"./index-1515df1a.js";import{b as d}from"./validate-8bf15b2e.js";import{F as g}from"./index-a773531e.js";import"./index-11ae6512.js";import"./index-7182f49c.js";const R={class:"title"},j=A({__name:"popupForm",setup(L){E();const p=h(),o=B("baTable"),{t:a}=K();let v=h("/userApi/AOA/index1?type=5");const w=$({name:[d({name:"required",title:a("person.bind.name")}),d({name:"varName"})],type:[d({name:"required",title:a("person.bind.type")})],department_id:[d({name:"required",title:a("person.bind.department")})],idcard:[d({name:"required",title:a("person.bind.idcard")})]});function y(){var u=["bind"].includes(o.form.operate);return console.log(u),u}return(u,t)=>{const F=s("el-form"),S=s("el-scrollbar"),V=s("el-button"),I=s("el-dialog"),q=m("drag"),z=m("zoom"),D=m("loading"),N=m("blur");return n(),i(I,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":["Edit"].includes(e(o).form.operate),onClose:e(o).toggleForm,"destroy-on-close":!0},{header:r(()=>[c((n(),T("div",R,[b(f(e(o).form.operate?e(a)(e(o).form.operate):""),1)])),[[q,[".ba-operate-dialog",".el-dialog__header"]],[z,".ba-operate-dialog"]])]),footer:r(()=>[k("div",{style:x("width: calc(100% - "+e(o).form.labelWidth/1.8+"px)")},[_(V,{onClick:t[4]||(t[4]=l=>e(o).toggleForm(""))},{default:r(()=>[b(f(e(a)("Cancel")),1)]),_:1}),c((n(),i(V,{loading:e(o).form.submitLoading,onClick:t[5]||(t[5]=l=>e(o).onSubmit(p.value)),type:"primary"},{default:r(()=>[b(f(e(o).form.operateIds&&e(o).form.operateIds.length>1?e(a)("Save and edit next item"):e(a)("Save")),1)]),_:1},8,["loading"])),[[N]])],4)]),default:r(()=>[c((n(),i(S,{class:"ba-table-form-scrollbar"},{default:r(()=>[k("div",{class:U(["ba-operate-form","ba-"+e(o).form.operate+"-form"]),style:x("width: calc(100% - "+e(o).form.labelWidth/2+"px)")},[e(o).form.loading?C("",!0):(n(),i(F,{key:0,ref_key:"formRef",ref:p,onKeyup:t[3]||(t[3]=W(l=>e(o).onSubmit(p.value),["enter"])),model:e(o).form.items,"label-position":"right","label-width":e(o).form.labelWidth+"px",rules:w},{default:r(()=>[_(g,{label:e(a)("person.bind.name"),modelValue:e(o).form.items.name,"onUpdate:modelValue":t[0]||(t[0]=l=>e(o).form.items.name=l),type:"string",prop:"name",placeholder:e(a)("person.bind.name_tip"),"input-attr":{clearable:!0,disabled:y()}},null,8,["label","modelValue","placeholder","input-attr"]),_(g,{label:e(a)("person.bind.idcard"),modelValue:e(o).form.items.idcard,"onUpdate:modelValue":t[1]||(t[1]=l=>e(o).form.items.idcard=l),type:"string",prop:"idcard",placeholder:e(a)("person.bind.idcard"),"input-attr":{clearable:!0,disabled:y()}},null,8,["label","modelValue","placeholder","input-attr"]),e(v).length>0?(n(),i(g,{key:0,label:e(a)("person.bind.tag_mac"),type:"remoteSelect",modelValue:e(o).form.items.bind_mac,"onUpdate:modelValue":t[2]||(t[2]=l=>e(o).form.items.bind_mac=l),"input-attr":{multiple:!1,pk:"mac",field:"mac","remote-url":e(v)},placeholder:e(a)("person.bind.bind_mac")},null,8,["label","modelValue","input-attr","placeholder"])):C("",!0)]),_:1},8,["model","label-width","rules"]))],6)]),_:1})),[[D,e(o).form.loading]])]),_:1},8,["model-value","onClose"])}}});const M=P(j,[["__scopeId","data-v-5aa4b281"]]);export{M as default};
