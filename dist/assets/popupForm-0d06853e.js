import{h as E,w as x,ar as T,r as W,q as i,a8 as u,o as s,P as f,Q as n,a9 as b,k as h,Z as _,V as v,z as e,m as k,l as C,p as r,a3 as K,$ as L,X as P,Y as R,a7 as Q}from"./vue-974988d6.js";import{a as X,c as Y,_ as Z}from"./index-1515df1a.js";import{b as d}from"./validate-8bf15b2e.js";import{F as m}from"./index-a773531e.js";import"./index-11ae6512.js";import"./index-7182f49c.js";const G={class:"title"},H=E({__name:"popupForm",setup(J){X();const c=x(),l=T("baTable"),{t:o}=Y();let g=x("/userApi/beacon/index1?type=0");const w=W({name:[d({name:"required",title:o("person.list.name")}),d({name:"varName"})],type:[d({name:"required",title:o("person.list.type")})],department_id:[d({name:"required",title:o("person.list.department")})],idcard:[d({name:"required",title:o("person.list.idcard")}),d({name:"idNumber"})]}),F=[{value:1,label:"男"},{value:0,label:"女"}];function V(){var p=["Edit"].includes(l.form.operate);return console.log(p),p}function S(p){g.value="/userApi/beacon/index1?type="+p,console.log(g)}return(p,t)=>{const U=i("el-option"),A=i("el-select"),D=i("el-form-item"),I=i("el-form"),N=i("el-scrollbar"),y=i("el-button"),j=i("el-dialog"),q=u("drag"),z=u("zoom"),B=u("loading"),$=u("blur");return s(),f(j,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":["Add","Edit"].includes(e(l).form.operate),onClose:e(l).toggleForm,"destroy-on-close":!0},{header:n(()=>[b((s(),h("div",G,[_(v(e(l).form.operate?e(o)(e(l).form.operate):""),1)])),[[q,[".ba-operate-dialog",".el-dialog__header"]],[z,".ba-operate-dialog"]])]),footer:n(()=>[k("div",{style:C("width: calc(100% - "+e(l).form.labelWidth/1.8+"px)")},[r(y,{onClick:t[8]||(t[8]=a=>e(l).toggleForm(""))},{default:n(()=>[_(v(e(o)("Cancel")),1)]),_:1}),b((s(),f(y,{loading:e(l).form.submitLoading,onClick:t[9]||(t[9]=a=>e(l).onSubmit(c.value)),type:"primary"},{default:n(()=>[_(v(e(l).form.operateIds&&e(l).form.operateIds.length>1?e(o)("Save and edit next item"):e(o)("Save")),1)]),_:1},8,["loading"])),[[$]])],4)]),default:n(()=>[b((s(),f(N,{class:"ba-table-form-scrollbar"},{default:n(()=>[k("div",{class:K(["ba-operate-form","ba-"+e(l).form.operate+"-form"]),style:C("width: calc(100% - "+e(l).form.labelWidth/2+"px)")},[e(l).form.loading?Q("",!0):(s(),f(I,{key:0,ref_key:"formRef",ref:c,onKeyup:t[7]||(t[7]=L(a=>e(l).onSubmit(c.value),["enter"])),model:e(l).form.items,"label-position":"right","label-width":e(l).form.labelWidth+"px",rules:w},{default:n(()=>[r(m,{label:e(o)("person.list.name"),modelValue:e(l).form.items.name,"onUpdate:modelValue":t[0]||(t[0]=a=>e(l).form.items.name=a),type:"string",prop:"name",placeholder:e(o)("person.list.name_tip"),"input-attr":{clearable:!0,disabled:V()}},null,8,["label","modelValue","placeholder","input-attr"]),r(m,{label:e(o)("person.list.idcard"),modelValue:e(l).form.items.idcard,"onUpdate:modelValue":t[1]||(t[1]=a=>e(l).form.items.idcard=a),type:"string",prop:"idcard",placeholder:e(o)("person.list.idcard"),"input-attr":{clearable:!0,disabled:V()}},null,8,["label","modelValue","placeholder","input-attr"]),r(m,{label:e(o)("person.list.department"),type:"remoteSelect",prop:"department_id",modelValue:e(l).form.items.department_id,"onUpdate:modelValue":t[2]||(t[2]=a=>e(l).form.items.department_id=a),"input-attr":{multiple:!1,pk:"id",field:"name","remote-url":"/userApi/Department/index1"},placeholder:e(o)("person.list.department")},null,8,["label","modelValue","placeholder"]),r(m,{label:e(o)("person.list.jobnumber"),modelValue:e(l).form.items.jobnumber,"onUpdate:modelValue":t[3]||(t[3]=a=>e(l).form.items.jobnumber=a),type:"string",placeholder:e(o)("person.list.jobnumber_tip"),"input-attr":{clearable:!0}},null,8,["label","modelValue","placeholder"]),r(m,{label:e(o)("person.list.phone"),modelValue:e(l).form.items.phone,"onUpdate:modelValue":t[4]||(t[4]=a=>e(l).form.items.phone=a),type:"string",placeholder:e(o)("person.list.phone"),"input-attr":{clearable:!0}},null,8,["label","modelValue","placeholder"]),r(D,{label:e(o)("person.list.sex")},{default:n(()=>[r(A,{modelValue:e(l).form.items.sex,"onUpdate:modelValue":t[5]||(t[5]=a=>e(l).form.items.sex=a),onChange:S},{default:n(()=>[(s(),h(P,null,R(F,a=>r(U,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["label"]),r(m,{label:e(o)("person.list.fence_id"),type:"remoteSelect",modelValue:e(l).form.items.fence_id,"onUpdate:modelValue":t[6]||(t[6]=a=>e(l).form.items.fence_id=a),"input-attr":{multiple:!1,pk:"id",field:"name","remote-url":"/userApi/fence/index1"},placeholder:e(o)("person.list.fence_id")},null,8,["label","modelValue","placeholder"])]),_:1},8,["model","label-width","rules"]))],6)]),_:1})),[[B,e(l).form.loading]])]),_:1},8,["model-value","onClose"])}}});const ae=Z(H,[["__scopeId","data-v-19f5086e"]]);export{ae as default};
