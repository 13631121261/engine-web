import{h as U,w as j,ar as q,r as z,q as n,a8 as p,o as d,P as u,Q as i,a9 as _,k as D,Z as b,V as y,z as e,m as V,l as k,p as s,a3 as N,$ as A,a7 as B}from"./vue-974988d6.js";import{a as $,c as E,_ as T}from"./index-1515df1a.js";import{b as r}from"./validate-8bf15b2e.js";import{F as m}from"./index-a773531e.js";import"./index-11ae6512.js";import"./index-7182f49c.js";const W={class:"title"},M=U({__name:"popupForm",setup(R){const g=$(),c=j(),l=q("baTable"),{t:o}=E(),x=z({name:[r({name:"required",title:o("locator.list.name")}),r({name:"varName"})],address:[r({name:"required",title:o("locator.list.address")}),r({name:"address"})],y:[r({name:"axis",title:o("Please enter the correct field",{field:o("gatewlocatoray.list.x")})})],x:[r({name:"axis",title:o("Please enter the correct field",{field:o("locator.list.y")})})],map_key:[r({name:"required",message:o("Please select field",{field:o("locator.list.map_name")})})],config_key:[r({name:"required",message:o("Please select field",{field:o("locator.list.config_name")})})]});function C(){var f=["Edit"].includes(l.form.operate);return console.log(f),f}return(f,t)=>{const h=n("el-form"),w=n("el-scrollbar"),v=n("el-button"),P=n("el-dialog"),S=p("drag"),F=p("zoom"),I=p("loading"),K=p("blur");return d(),u(P,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":["Add","Edit"].includes(e(l).form.operate),onClose:e(l).toggleForm,"destroy-on-close":!0},{header:i(()=>[_((d(),D("div",W,[b(y(e(l).form.operate?e(o)(e(l).form.operate):""),1)])),[[S,[".ba-operate-dialog",".el-dialog__header"]],[F,".ba-operate-dialog"]])]),footer:i(()=>[V("div",{style:k("width: calc(100% - "+e(l).form.labelWidth/1.8+"px)")},[s(v,{onClick:t[7]||(t[7]=a=>e(l).toggleForm(""))},{default:i(()=>[b(y(e(o)("Cancel")),1)]),_:1}),_((d(),u(v,{loading:e(l).form.submitLoading,onClick:t[8]||(t[8]=a=>e(l).onSubmit(c.value)),type:"primary"},{default:i(()=>[b(y(e(l).form.operateIds&&e(l).form.operateIds.length>1?e(o)("Save and edit next item"):e(o)("Save")),1)]),_:1},8,["loading"])),[[K]])],4)]),default:i(()=>[_((d(),u(w,{class:"ba-table-form-scrollbar"},{default:i(()=>[V("div",{class:N(["ba-operate-form","ba-"+e(l).form.operate+"-form"]),style:k("width: calc(100% - "+e(l).form.labelWidth/2+"px)")},[e(l).form.loading?B("",!0):(d(),u(h,{key:0,ref_key:"formRef",ref:c,onKeyup:t[6]||(t[6]=A(a=>e(l).onSubmit(c.value),["enter"])),model:e(l).form.items,"label-position":"right","label-width":e(l).form.labelWidth+"px",rules:x},{default:i(()=>[s(m,{"input-attr":{clearable:!0},label:e(o)("locator.list.name"),modelValue:e(l).form.items.name,"onUpdate:modelValue":t[0]||(t[0]=a=>e(l).form.items.name=a),type:"string",prop:"name",placeholder:e(o)("Please input field",{field:e(o)("locator.list.name")})},null,8,["label","modelValue","placeholder"]),s(m,{label:e(o)("locator.list.address"),modelValue:e(l).form.items.address,"onUpdate:modelValue":t[1]||(t[1]=a=>e(l).form.items.address=a),type:"string",prop:"address",placeholder:e(o)("locator.list.address_tip"),"input-attr":{clearable:!0,disabled:C()}},null,8,["label","modelValue","placeholder","input-attr"]),s(m,{label:e(o)("locator.list.config_name"),modelValue:e(l).form.items.config_key,"onUpdate:modelValue":t[2]||(t[2]=a=>e(l).form.items.config_key=a),prop:"config_key",type:"remoteSelect","input-attr":{pk:"config_key",multiple:!1,params:{project_Key:e(g).getProject_Key()},field:"name","remote-url":"/userApi/config/index1",placeholder:e(o)("Click select")}},null,8,["label","modelValue","input-attr"]),s(m,{label:e(o)("locator.list.map_name"),modelValue:e(l).form.items.map_key,"onUpdate:modelValue":t[3]||(t[3]=a=>e(l).form.items.map_key=a),prop:"map_key",type:"remoteSelect","input-attr":{pk:"map_key",multiple:!1,params:{project_Key:e(g).getProject_Key()},field:"name","remote-url":"/userApi/map/index1",placeholder:e(o)("Click select")}},null,8,["label","modelValue","input-attr"]),s(m,{label:e(o)("locator.list.x"),modelValue:e(l).form.items.x,"onUpdate:modelValue":t[4]||(t[4]=a=>e(l).form.items.x=a),modelModifiers:{number:!0},type:"number",prop:"x",placeholder:e(o)("locator.list.x_tip")},null,8,["label","modelValue","placeholder"]),s(m,{label:e(o)("locator.list.y"),modelValue:e(l).form.items.y,"onUpdate:modelValue":t[5]||(t[5]=a=>e(l).form.items.y=a),modelModifiers:{number:!0},type:"number",prop:"y",placeholder:e(o)("locator.list.y_tip")},null,8,["label","modelValue","placeholder"])]),_:1},8,["model","label-width","rules"]))],6)]),_:1})),[[I,e(l).form.loading]])]),_:1},8,["model-value","onClose"])}}});const O=T(M,[["__scopeId","data-v-d0aa6989"]]);export{O as default};
