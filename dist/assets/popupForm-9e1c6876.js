import{h as U,w as D,ar as E,r as q,G as z,q as f,a8 as b,o as s,P as p,Q as r,a9 as g,k as B,Z as _,V as h,z as e,m as w,l as y,p as i,a3 as N,$ as T,a7 as $}from"./vue-974988d6.js";import{a as R,c as W,_ as K}from"./index-1515df1a.js";import{b as u,r as j}from"./validate-8bf15b2e.js";import{F as m}from"./index-a773531e.js";import"./index-11ae6512.js";import"./index-7182f49c.js";const G={class:"title"},L=U({__name:"popupForm",setup(Q){const k=R(),c=D(),a=E("baTable"),{t:l}=W(),V=q({username:[u({name:"required",title:l("auth.admin.username")}),u({name:"account"})],nickname:[u({name:"required",title:l("auth.admin.nickname")})],group_arr:[u({name:"required",message:l("Please select field",{field:l("auth.admin.grouping")})})],email:[u({name:"email",message:l("Please enter the correct field",{field:l("auth.admin.mailbox")})})],mobile:[u({name:"mobile",message:l("Please enter the correct field",{field:l("auth.admin.mobile")})})],password:[{validator:(d,o,n)=>{if(a.form.operate=="Add"){if(!o)return n(new Error(l("Please input field",{field:l("auth.admin.Password")})))}else if(!o)return n();return j(o)?n():n(new Error(l("validate.Please enter the correct password")))},trigger:"blur"}]});z(()=>a.form.operate,d=>{V.password[0].required=d=="Add"});function P(){var d=["Edit"].includes(a.form.operate);return console.log(d),d}return(d,o)=>{const n=f("el-form"),x=f("el-scrollbar"),v=f("el-button"),C=f("el-dialog"),A=b("drag"),S=b("zoom"),F=b("loading"),I=b("blur");return s(),p(C,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":["Add","Edit"].includes(e(a).form.operate),onClose:e(a).toggleForm,"destroy-on-close":!0},{header:r(()=>[g((s(),B("div",G,[_(h(e(a).form.operate?e(l)(e(a).form.operate):""),1)])),[[A,[".ba-operate-dialog",".el-dialog__header"]],[S,".ba-operate-dialog"]])]),footer:r(()=>[w("div",{style:y("width: calc(100% - "+e(a).form.labelWidth/1.8+"px)")},[i(v,{onClick:o[8]||(o[8]=t=>e(a).toggleForm(""))},{default:r(()=>[_(h(e(l)("Cancel")),1)]),_:1}),g((s(),p(v,{loading:e(a).form.submitLoading,onClick:o[9]||(o[9]=t=>e(a).onSubmit(c.value)),type:"primary"},{default:r(()=>[_(h(e(a).form.operateIds&&e(a).form.operateIds.length>1?e(l)("Save and edit next item"):e(l)("Save")),1)]),_:1},8,["loading"])),[[I]])],4)]),default:r(()=>[g((s(),p(x,{class:"ba-table-form-scrollbar"},{default:r(()=>[w("div",{class:N(["ba-operate-form","ba-"+e(a).form.operate+"-form"]),style:y("width: calc(100% - "+e(a).form.labelWidth/2+"px)")},[e(a).form.loading?$("",!0):(s(),p(n,{key:0,ref_key:"formRef",ref:c,onKeyup:o[7]||(o[7]=T(t=>e(a).onSubmit(c.value),["enter"])),model:e(a).form.items,"label-position":"right","label-width":e(a).form.labelWidth+"px",rules:V},{default:r(()=>[i(m,{label:e(l)("auth.admin.username"),modelValue:e(a).form.items.username,"onUpdate:modelValue":o[0]||(o[0]=t=>e(a).form.items.username=t),type:"string",prop:"username",placeholder:e(l)("auth.admin.Administrator login"),"input-attr":{clearable:!0,disabled:P()}},null,8,["label","modelValue","placeholder","input-attr"]),i(m,{label:e(l)("auth.admin.nickname"),modelValue:e(a).form.items.nickname,"onUpdate:modelValue":o[1]||(o[1]=t=>e(a).form.items.nickname=t),type:"string",prop:"nickname",placeholder:e(l)("Please input field",{field:e(l)("auth.admin.nickname")})},null,8,["label","modelValue","placeholder"]),(s(),p(m,{label:e(l)("auth.admin.grouping"),modelValue:e(a).form.items.group_arr,"onUpdate:modelValue":o[2]||(o[2]=t=>e(a).form.items.group_arr=t),prop:"group_arr",type:"remoteSelect",key:"group-"+e(a).form.items.id,"input-attr":{multiple:!0,params:{isTree:!0,absoluteAuth:e(k).id==e(a).form.items.id?0:1},field:"name","remote-url":"/userApi/Roles/index",placeholder:e(l)("Click select")}},null,8,["label","modelValue","input-attr"])),i(m,{label:e(l)("auth.admin.mailbox"),prop:"email",modelValue:e(a).form.items.email,"onUpdate:modelValue":o[3]||(o[3]=t=>e(a).form.items.email=t),type:"string",placeholder:e(l)("Please input field",{field:e(l)("auth.admin.mailbox")})},null,8,["label","modelValue","placeholder"]),i(m,{label:e(l)("auth.admin.mobile"),prop:"mobile",modelValue:e(a).form.items.mobile,"onUpdate:modelValue":o[4]||(o[4]=t=>e(a).form.items.mobile=t),type:"string",placeholder:e(l)("Please input field",{field:e(l)("auth.admin.mobile")})},null,8,["label","modelValue","placeholder"]),i(m,{label:e(l)("auth.admin.Password"),prop:"password",modelValue:e(a).form.items.password,"onUpdate:modelValue":o[5]||(o[5]=t=>e(a).form.items.password=t),type:"password",placeholder:e(a).form.operate=="Add"?e(l)("Please input field",{field:e(l)("auth.admin.Password")}):e(l)("auth.admin.Please leave blank if not modified")},null,8,["label","modelValue","placeholder"]),i(m,{label:e(l)("State"),modelValue:e(a).form.items.status,"onUpdate:modelValue":o[6]||(o[6]=t=>e(a).form.items.status=t),type:"radio",data:{content:{0:e(l)("Disable"),1:e(l)("Enable")},childrenAttr:{border:!0}}},null,8,["label","modelValue","data"])]),_:1},8,["model","label-width","rules"]))],6)]),_:1})),[[F,e(a).form.loading]])]),_:1},8,["model-value","onClose"])}}});const Y=K(L,[["__scopeId","data-v-59918568"]]);export{Y as default};
